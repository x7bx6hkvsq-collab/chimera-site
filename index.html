<p class="site-note">
この場所は、キメラを静かに残すための場所です。  
評価や数字は置いていません。
</p>

<section class="search-area">
  <p class="search-note">生物タグから探す</p>

  <div class="tag-search">
    <button class="tag-btn">狸</button>
    <button class="tag-btn">豹</button>
    <button class="tag-btn">鷲</button>
    <button class="tag-btn">馬</button>
    <button class="tag-btn">鷹</button>
    <button class="tag-btn">ライオン</button>
    <button class="tag-btn">魚</button>
    <button class="tag-btn">人間</button>
  </div>
</section>
<p class="search-selected">
  選択中：なし
</p>

<button id="goSearch" class="search-go">
  この条件で探す
</button>

<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>キメラ投稿サイト</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>キメラ投稿サイト</h1>
<p>ここは表示確認用のページです。</p>

<div class="gallery">
  <a href="post-001.html" class="card">
    <div class="thumb"><img src="images/chimera_001.jpg" alt="無名のキメラ">
    </div>
    <p class="caption">無名のキメラ</p>
  </a>

  <a href="post002.html" class="card">
    <div class="thumb"><img src="images/chimera_002.jpg" alt="名のない混合体">
    </div>
    <p class="caption">名のない混合体</p>
  </a>

  <a href="post003.html" class="card">
    <div class="thumb"><img src="images/chimera_003.jpg" alt="記録されていない存在">
    </div>
    <p class="caption">記録されていない存在</p>
  </a>

  <a href="post004.html" class="card">
    <div class="thumb"><img src="images/chimera_004.jpg" alt="通り過ぎるキメラ">
    </div>
    <p class="caption">通り過ぎるキメラ</p>
  </a>
</div>

<script>
  const tagButtons = document.querySelectorAll('.tag-btn');
  const selectedText = document.querySelector('.search-selected');

  let selectedTags = [];

  tagButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const tag = btn.textContent;

      if (selectedTags.includes(tag)) {
        // すでに選ばれていたら外す
        selectedTags = selectedTags.filter(t => t !== tag);
        btn.classList.remove('active');
      } else {
        // 新しく選ぶ（上限4つ）
        if (selectedTags.length < 4) {
          selectedTags.push(tag);
          btn.classList.add('active');
        }
      }

      // 表示更新
      if (selectedTags.length === 0) {
        selectedText.textContent = '選択中：なし';
      } else {
        selectedText.textContent = '選択中：' + selectedTags.join('・');
      }
    });
  });
  const goSearchBtn = document.getElementById('goSearch');

goSearchBtn.addEventListener('click', () => {
  if (selectedTags.length === 0) return;

  const query = selectedTags.join(',');
  window.location.href = `search.html?tags=${encodeURIComponent(query)}`;
});
</script>

</body>
</html>